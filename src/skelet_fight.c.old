#include <ncurses.h>

#include "../include/main.h"
#include "../include/fight.h"
#include "../include/screen.h"
#include "../include/dungeon.h"

int fight(gamer *player, int enemy)
{
	clear();

	return 0;
}

int start_fight(int max_y, int max_x, gamer *player,
		int game_place[SIZE][SIZE])
{
	int i, j, k;
	int enemy[] = ENEMIES;
	int s_enemy = sizeof(enemy)/sizeof(int);
	for(i = -2; i <= 2; i++) {
		for(j = -2; j <= 2; j++) {
			for(k = 0; k < s_enemy; k++) {
				if(out_the_barrier(player->y + i, player->x + j))
					continue;
				if(game_place[player->y + i][player->x + j] == enemy[k]) {
					game_place[player->y +i][player->x + j] = SPACE;
					if(fight(player, enemy[k]))
						return 1;
				}
			}
		}
	}
	scr_replay(game_place, player, max_y, max_x);
	return 0;
}
